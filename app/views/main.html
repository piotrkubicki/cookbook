<div class="overlay" id="overlay" ng-if="main.overlay"></div>
<div class="container" id="menu-title"><h1>Recipes</h1></div>

<div class="container" id="navbar">
  <h1 style="float: left"><strong>Cookbook</strong></h1>
  <md-button class="md-raised md-primary" ng-click="main.addRecipe()" ng-if="!main.overlay && !main.showUpdateRecipe">Add recipe</md-button>
  <md-button class="md-raised md-warn" ng-click="main.addRecipe()" ng-if="!main.showRecipe && !main.showUpdateRecipe">Cancel</md-button>
</div>

<div class="container" id="recipes-bar">
  <div layout-gt-sm="row">
    <md-input-container class="md-block" md-no-float>
      <input ng-model="main.recipeFilter" placeholder="Search" style="width: 80%;"><span class="glyphicon glyphicon-search"></span>
    </md-input-container>
  </div>
  <button class="menu-btn" ng-repeat="recipe in main.recipes | filter:main.recipeFilter | orderBy: 'name'"  ng-class="{oddButton: $odd, evenButton: $even, selected: $index==main.selectedIndex}" ng-click="main.getRecipe(recipe._id, $index); main.returnToRecipes()">
    <p>{{ recipe.name }}</p>
  </button>
</div>

<md-tabs class="text-area" md-selected="main.tabIndex" md-center-tabs md-border-bottom>
  <md-tab label="Recipe">
    <div class="container" ng-if="main.showRecipe && !main.showUpdateRecipe">
      <div ng-if="!main.recipe.name">
        <h3>Welcome to Cookbook.<br>Please select any recipe to display</h2>
      </div>
      <div id="ingridients" ng-if="main.recipe.name">
        <h2><strong>{{ main.recipe.name }}</strong></h2>
        <h4>Ingridients</h4>
        <table>
          <ul ng-repeat="ingridient in main.recipe.ingridients">
            <li>{{ ingridient.name }} {{ ingridient.value }}</li>
          </ul>
        </table>
        <md-button class="md-raised" ng-click="main.addDiner()">Add to Menu</md-button>
        <br>
        <md-button class="md-raised md-primary" ng-click="main.changeRecipe()">Change</md-button>
        <br>
        <md-button class="md-raised md-warn" ng-click="main.removeRecipe(main.recipe)">Remove</md-button>
      </div>
    </div>

    <div class="container" ng-if="!main.showRecipe && !main.showUpdateRecipe">
      <form>
        <md-input-container class="md-block" style="margin-top: 30px" flex-gt-xs>
          <label>Recipe Name</label>
          <input type="text" style="width: 40%" ng-model="main.recipe.name">
        </md-input-container>
        <h4>Ingridients</h4>
        <div layout-gt-sm="row" style="width: 40%" ng-repeat="ing in main.recipe.ingridients">
          <md-input-container class="md-block" style="width: 40%" flex-gt-xs  move-to-next>
            <label>Ingridient</label>
            <input ng-model="ing.name">
          </md-input-container>
          <md-input-container class="md-block" flex-gt-xs move-to-next>
            <label>Value</label>
            <input ng-model="ing.value">
          </md-input-container>
        </form>
        <md-button class="md-warn" style="width: 50px; height: 35px;" aria-label="removeIng" ng-click="main.removeIngridient($index)" move-to-next><span class="glyphicon glyphicon-remove"></span></md-button>
      </div>
      <md-button class="btn-raised" ng-click="main.addIngridient()">Add Ingridient</md-button>
      <br>
      <md-button class="md-raised md-primary" style="margin-top: 5px; float: left" ng-click="main.saveRecipe()">Save Recipe</md-button>
    </div>

    <div class="container" ng-if="!main.showRecipe && main.showUpdateRecipe">
      <md-input-container class="md-block" style="margin-top: 30px" flex-gt-xs>
        <label>Recipe Name</label>
        <input type="text" style="width: 40%" ng-model="main.recipe.name">
      </md-input-container>
      <h4>Ingridients</h4>
      <div layout-gt-sm="row" style="width: 40%" ng-repeat="ing in main.recipe.ingridients">
        <md-input-container class="md-block" style="width: 40%" flex-gt-xs>
          <label>Ingridient</label>
          <input ng-model="ing.name">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-xs>
          <label>Value</label>
          <input ng-model="ing.value">
        </md-input-container>
        <md-button class="md-warn" aria-label="removeIng" style="width: 50px; height: 35px;" ng-click="main.removeIngridient($index)"><span class="glyphicon glyphicon-remove"></span></md-button>
      </div>
      <md-button class="btn-raised" ng-click="main.addIngridient()">Add Ingridient</md-button>
      <br>
      <md-button class="md-raised md-primary" ng-click="main.updateRecipe()">Update</md-button>
    </div>
  </md-tab>

  <md-tab label="Menu">
    <div class="container">
      <div id="dinner" ng-repeat="dinner in main.menu track by $index">{{ dinner.name }}</div>
    </div>
  </md-tab>

  <md-tab label="Shopping List">
    <div class="container">
      <md-list>
        <md-list-item ng-repeat="ingridient in main.shoppingList track by $index">
          <div style="width: 15%; height: 32px; border-right: 1px solid #bbc0c3;">{{ ingridient.name }}</div>
          <md-button class="md-warn" ng-repeat="value in ingridient.values track by $index" style="width: 10%"> {{ value }}</md-button>
        </md-list-item>
      </md-list>
    </div>
  </md-tab>
</md-tabs>
